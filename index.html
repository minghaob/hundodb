<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="icon" href="favicon.ico" type="image/x-icon">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>HundoDB</title>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
	<link rel="stylesheet" href="libs/leaflet@1.9.4/leaflet.css" />
	<link rel="stylesheet" href="libs/leaflet-sidebar-v2@3.2.3/leaflet-sidebar.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/styles.css">
	<script src="libs/leaflet@1.9.4/leaflet.js"></script>
	<script src="libs/leaflet-sidebar-v2@3.2.3/leaflet-sidebar.min.js"></script>
	<script src="libs/leaflet-easybutton@2.4.0/easy-button.js"></script>
	<script src="libs/js-yaml@3.12.0/js-yaml.min.js"></script>
</head>
<body>
	<div id="map"></div>
	<div id="runlist-dropdown" style="display: none; z-index: 1000; background: white; opacity: 0.9;">
		<ul></ul>
	</div>
	<div id="compare_panel_content" style="display: none">
		<table style="background-color: transparent; border: none">
			<tbody>
				<tr>
					<td class="h6" style="text-align:left;border:none;color:white">Compare:  </td>
					<td style="border:none;width:10px"></td>
					<td style="text-align:left;border:none;width:100%">
						<select class="form-select form-select-sm" id="compare_select" onchange="onCompareRunChange()">
							<option selected value="">Select Run:</option>
						</select>
					</td>
				</tr>
				<tr>
					<td class="h6" style="text-align:left;border:none;color:white">With:</td>
					<td style="border:none"></td>
					<td style="text-align:left;border:none">
						<select class="form-select form-select-sm" id="with_select" onchange="updateComparePaneTable()">
							<option selected value="communitybest">Community Best</option>
						</select>
					</td>
				</tr>
			</tbody>
		</table>
		<br>
		<div class="form-check form-switch h6" style="color:white">
			<input class="form-check-input" type="checkbox" id="compare_sort" style="margin-top: 2px" onchange="updateComparePaneTable()">
			<label class="form-check-label" for="compare_sort">Sort by time difference</label>
		</div>
		<hr style="color: rgba(255,255,255,0.8);">
		<table style="background-color: transparent; border: none; width: 100%" id="compare_table">
		</table>
	</div>
	<div id="export_panel_content" style="display:none">
		<select class="form-select form-select-sm" id="export_select">
			<option selected value="">Select Run:</option>
		</select>
		<br>
		<table id="export_split_options" style="background-color: transparent; border: none; width:100%;">
			<thead class="h6" style="color:white;text-align: center;"">
				<tr>
					<th style="width:180px">
						Split at
					</th>
					<th>
						Format
					</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<br>
		<div class="form-check form-switch h6" style="color:white">
			<input class="form-check-input" type="checkbox" id="export_split_time" style="margin-top: 2px">
			<label class="form-check-label" for="export_split_time">Export split times</label>
			<span style="color:gray">(Be aware of <a href="https://github.com/minghaob/hundodb/blob/main/docs/split_timing.md" target="_blank" class="clickable">split timings</a>)</span>
		</div>
		<button type="button" class="btn btn-sm btn-primary" id="export_splits" style="width:100%" disabled><i class="fa fa-file-export"></i> Export LiveSplit (*.lss)</button>
	</div>
	<div id="help_panel_content" style="display:none">
		<br>
		<ol style="color:white;">
			<li class="h6"><span class="clickable" id="help_panel_selectarun">Select a run</span> to highlight. (optional)</li>
			<li class="h6">Click a <span class="clickable" id="help_panel_movement">movement</span>, <span class="clickable" id="help_panel_shrine">shrine</span> or <span class="clickable" id="help_panel_divinebeast">divine beast</span> to see its time in the runs.</li>
			<li class="h6">In the popup dialog:
				<ul>
					<li class="h6" style="padding-top: 8px;">Click any <span class="hoverable" id="help_panel_time">time</span> to open the corresponding video segment.</li>
					<li class="h6"><span class="hoverable" id="help_panel_selectrows">Select rows</span> to <span class="hoverable" id="help_panel_view">view</span> them side by side.</li>
					<li class="h6">Click a <span class="hoverable" id="help_panel_run">run</span> to highlight it.</li>
				</ul>
			</li>
			<li class="h6">Compare runs with each other or against community best in the <span class="clickable" id="help_panel_comparepanel">compare panel</span>.</li>
			<li class="h6">Report <a href="https://github.com/minghaob/hundodb/issues" target="_blank" class="clickable">here</a> for feature requests, bugs or request to add specific runs. (or just message author on Discord.)</li>
		</ol>
	</div>
	<script src="js/common.js"></script>
	<script src="js/db.js"></script>
	<script src="js/sidebar.js"></script>
	<script src="js/compare_panel.js"></script>
	<script src="js/export_panel.js"></script>
	<script src="js/help_panel.js"></script>
	<script src="js/map_popup.js"></script>
	<script src="js/map.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
